#参考：https://qiita.com/Dukapan100knock/items/86d6649096127f2f8d7a
import CaboCha
parsed_text = CaboCha.Parser()
divtext  = [] #文ごとに分割したテキストを格納
with open ("/home/mohasi/HelloWorld/ai.ja.txt", "r") as raw_ai, open("/home/mohasi/HelloWorld/ai.ja.txt.parsed", "w") as parsed_ai: #"w"：書き込み用にテキストを開く
    lines = raw_ai.readlines()

    for text in lines:
        if "。" in text:
            tmp = text.split("。")
            tmp = [x + "。" for x in tmp if x != ''] #。で区切った文のうち、空欄以外を格納
            divtext.extend(tmp) #extend()：引数に反復可能オブジェクトを1つ受け取り、その個々の要素をリストの末尾に順次追加（リストの拡張）
                                #cf.append()：引数を1つ受け取り、それをリストの末尾に単一の要素として追加する。 
                                # 
    for text in divtext:
        tree =parsed_text.parse(text)
        parsed_ai.write(tree.toString(CaboCha.FORMAT_LATTICE)) #メソッドtoString()：情報の出力方法を指定
    
    
        